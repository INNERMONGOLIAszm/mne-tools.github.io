<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Frequently Asked Questions &mdash; MNE 0.12.dev0 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/gallery.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootswatch-3.3.4/flatly/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/style.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.12.dev0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="MNE 0.12.dev0 documentation" href="index.html" />
    <link rel="next" title="Contribute to MNE" href="contributing.html" />
    <link rel="prev" title="Create evoked objects in delayed SSP mode" href="auto_examples/visualization/plot_evoked_delayed_ssp.html" />

<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>


    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37225609-1']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>



    <script type="text/javascript">
    !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);
    js.id=id;js.src="http://platform.twitter.com/widgets.js";
    fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
    </script>



    <script type="text/javascript">
    (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
    })();
    </script>


  </head>
  <body>





  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html"><img src="_static/mne_logo_small.png">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>0.12.dev0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="getting_started.html">Get started</a></li>
                <li><a href="tutorials.html">Tutorials</a></li>
                <li><a href="auto_examples/index.html">Gallery</a></li>
                <li><a href="python_reference.html">API</a></li>
                <li><a href="manual/index.html">Manual</a></li>
                <li><a href="#">FAQ</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="auto_examples/index.html">Examples Gallery</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contribute to MNE</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="python_reference.html">Python API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/index.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="whats_new.html">What&#8217;s new</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="cite.html">How to cite MNE</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">Related publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="cited.html">Publications from MNE users</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Frequently Asked Questions</a><ul>
<li><a class="reference internal" href="#general-mne-python-issues">General MNE-Python issues</a><ul>
<li><a class="reference internal" href="#help-i-can-t-get-python-and-mne-python-working">Help! I can&#8217;t get Python and MNE-Python working!</a></li>
<li><a class="reference internal" href="#i-m-not-sure-how-to-do-x-analysis-step-with-my-y-data">I&#8217;m not sure how to do <em>X</em> analysis step with my <em>Y</em> data...</a></li>
<li><a class="reference internal" href="#i-think-i-found-a-bug-what-do-i-do">I think I found a bug, what do I do?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#inverse-solution">Inverse Solution</a><ul>
<li><a class="reference internal" href="#how-should-i-regularize-the-covariance-matrix">How should I regularize the covariance matrix?</a></li>
<li><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/mne_logo_small.png" alt="Logo"/>
            </a></p><ul>
<li><a class="reference internal" href="#">Frequently Asked Questions</a><ul>
<li><a class="reference internal" href="#general-mne-python-issues">General MNE-Python issues</a><ul>
<li><a class="reference internal" href="#help-i-can-t-get-python-and-mne-python-working">Help! I can&#8217;t get Python and MNE-Python working!</a></li>
<li><a class="reference internal" href="#i-m-not-sure-how-to-do-x-analysis-step-with-my-y-data">I&#8217;m not sure how to do <em>X</em> analysis step with my <em>Y</em> data...</a></li>
<li><a class="reference internal" href="#i-think-i-found-a-bug-what-do-i-do">I think I found a bug, what do I do?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#inverse-solution">Inverse Solution</a><ul>
<li><a class="reference internal" href="#how-should-i-regularize-the-covariance-matrix">How should I regularize the covariance matrix?</a></li>
<li><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <li>
    <a href="auto_examples/visualization/plot_evoked_delayed_ssp.html" title="Previous Chapter: Create evoked objects in delayed SSP mode"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Create evoked...</span>
    </a>
  </li>
  <li>
    <a href="contributing.html" title="Next Chapter: Contribute to MNE"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Contribute to... &raquo;</span>
    </a>
  </li>
<form action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="col-md-12">
      
  <div class="section" id="frequently-asked-questions">
<span id="faq"></span><h1>Frequently Asked Questions<a class="headerlink" href="#frequently-asked-questions" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#general-mne-python-issues" id="id5">General MNE-Python issues</a><ul>
<li><a class="reference internal" href="#help-i-can-t-get-python-and-mne-python-working" id="id6">Help! I can&#8217;t get Python and MNE-Python working!</a></li>
<li><a class="reference internal" href="#i-m-not-sure-how-to-do-x-analysis-step-with-my-y-data" id="id7">I&#8217;m not sure how to do <em>X</em> analysis step with my <em>Y</em> data...</a></li>
<li><a class="reference internal" href="#i-think-i-found-a-bug-what-do-i-do" id="id8">I think I found a bug, what do I do?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#inverse-solution" id="id9">Inverse Solution</a><ul>
<li><a class="reference internal" href="#how-should-i-regularize-the-covariance-matrix" id="id10">How should I regularize the covariance matrix?</a></li>
<li><a class="reference internal" href="#references" id="id11">References</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="general-mne-python-issues">
<h2><a class="toc-backref" href="#id5">General MNE-Python issues</a><a class="headerlink" href="#general-mne-python-issues" title="Permalink to this headline">¶</a></h2>
<div class="section" id="help-i-can-t-get-python-and-mne-python-working">
<h3><a class="toc-backref" href="#id6">Help! I can&#8217;t get Python and MNE-Python working!</a><a class="headerlink" href="#help-i-can-t-get-python-and-mne-python-working" title="Permalink to this headline">¶</a></h3>
<p>Check out our section on how to get Anaconda up and running over at the
<a class="reference internal" href="getting_started.html#install-interpreter"><em>getting started page</em></a>.</p>
</div>
<div class="section" id="i-m-not-sure-how-to-do-x-analysis-step-with-my-y-data">
<h3><a class="toc-backref" href="#id7">I&#8217;m not sure how to do <em>X</em> analysis step with my <em>Y</em> data...</a><a class="headerlink" href="#i-m-not-sure-how-to-do-x-analysis-step-with-my-y-data" title="Permalink to this headline">¶</a></h3>
<p>Knowing &#8220;the right thing&#8221; to do with EEG and MEG data is challenging.
We use the <a class="reference external" href="http://mail.nmr.mgh.harvard.edu/mailman/listinfo/mne_analysis">MNE mailing list</a> to discuss
how to deal with different bits of data. It&#8217;s worth searching the archives
to see if there have been relevant discussions before.</p>
</div>
<div class="section" id="i-think-i-found-a-bug-what-do-i-do">
<h3><a class="toc-backref" href="#id8">I think I found a bug, what do I do?</a><a class="headerlink" href="#i-think-i-found-a-bug-what-do-i-do" title="Permalink to this headline">¶</a></h3>
<p>Please report any problems you find while using MNE-Python
<a class="reference external" href="https://github.com/mne-tools/mne-python/issues/">issue tracker</a>.
Try <a class="reference internal" href="getting_started.html#installing-master"><em>using the latest master version</em></a> to
see if the problem persists before reporting the bug, as it may have
been fixed since the latest release.</p>
<p>It is helpful to include system information with bug reports, so it can be
useful to include the output of the <a class="reference internal" href="generated/mne.sys_info.html#mne.sys_info" title="mne.sys_info"><tt class="xref py py-func docutils literal"><span class="pre">mne.sys_info()</span></tt></a> command when
reporting a bug, which should look something like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mne</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mne</span><span class="o">.</span><span class="n">sys_info</span><span class="p">()</span>
<span class="go">Platform:      Linux-4.2.0-27-generic-x86_64-with-debian-jessie-sid</span>
<span class="go">Python:        2.7.11 |Continuum Analytics, Inc.| (default, Dec  6 2015, 18:08:32)  [GCC 4.4.7 20120313 (Red Hat 4.4.7-1)]</span>
<span class="go">Executable:    /home/larsoner/miniconda/bin/python</span>

<span class="go">mne:           0.12.dev0</span>
<span class="go">numpy:         1.10.2 {lapack=mkl_lapack95_lp64, blas=mkl_intel_lp64}</span>
<span class="go">scipy:         0.16.1</span>
<span class="go">matplotlib:    1.5.1</span>

<span class="go">sklearn:       Not found</span>
<span class="go">nibabel:       Not found</span>
<span class="go">nitime:        Not found</span>
<span class="go">mayavi:        Not found</span>
<span class="go">nose:          1.3.7</span>
<span class="go">pandas:        Not found</span>
<span class="go">pycuda:        Not found</span>
<span class="go">skcuda:        Not found</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="inverse-solution">
<h2><a class="toc-backref" href="#id9">Inverse Solution</a><a class="headerlink" href="#inverse-solution" title="Permalink to this headline">¶</a></h2>
<div class="section" id="how-should-i-regularize-the-covariance-matrix">
<h3><a class="toc-backref" href="#id10">How should I regularize the covariance matrix?</a><a class="headerlink" href="#how-should-i-regularize-the-covariance-matrix" title="Permalink to this headline">¶</a></h3>
<p>The estimated covariance can be numerically
unstable and tends to induce correlations between estimated source amplitudes
and the number of samples available. The MNE manual therefore suggests to regularize the noise covariance matrix (see
<a class="reference internal" href="manual/source_localization/inverse.html#cbbhegab"><em>Regularization of the noise-covariance matrix</em></a>), especially if only few samples are available. Unfortunately
it is not easy to tell the effective number of samples, hence, to chose the appropriate regularization.
In MNE-Python, regularization is done using advanced regularization methods
described in <a class="footnote-reference" href="#id3" id="id1">[1]</a>. For this the &#8216;auto&#8217; option can be used. With this
option cross-validation will be used to learn the optimal regularization:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mne</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">epochs</span> <span class="o">=</span> <span class="n">mne</span><span class="o">.</span><span class="n">read_epochs</span><span class="p">(</span><span class="n">epochs_path</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">cov</span> <span class="o">=</span> <span class="n">mne</span><span class="o">.</span><span class="n">compute_covariance</span><span class="p">(</span><span class="n">epochs</span><span class="p">,</span> <span class="n">tmax</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">)</span> 
</pre></div>
</div>
<p>This procedure evaluates the noise covariance quantitatively by how well it whitens the data using the
negative log-likelihood of unseen data. The final result can also be visually inspected.
Under the assumption that the baseline does not contain a systematic signal
(time-locked to the event of interest), the whitened baseline signal should be
follow a multivariate Gaussian distribution, i.e.,
whitened baseline signals should be between -1.96 and 1.96 at a given time sample.
Based on the same reasoning, the expected value for the global field power (GFP)
is 1 (calculation of the GFP should take into account the true degrees of
freedom, e.g. <tt class="docutils literal"><span class="pre">ddof=3</span></tt> with 2 active SSP vectors):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">evoked</span> <span class="o">=</span> <span class="n">epochs</span><span class="o">.</span><span class="n">average</span><span class="p">()</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">evoked</span><span class="o">.</span><span class="n">plot_white</span><span class="p">(</span><span class="n">cov</span><span class="p">)</span> 
</pre></div>
</div>
<p>This plot displays both, the whitened evoked signals for each channels and
the whitened GFP. The numbers in the GFP panel represent the estimated rank of
the data, which amounts to the effective degrees of freedom by which the
squared sum across sensors is divided when computing the whitened GFP.
The whitened GFP also helps detecting spurious late evoked components which
can be the consequence of over- or under-regularization.</p>
<p>Note that if data have been processed using signal space separation (SSS) <a class="footnote-reference" href="#id4" id="id2">[2]</a>,
gradiometers and magnetometers will be displayed jointly because both are
reconstructed from the same SSS basis vectors with the same numerical rank.
This also implies that both sensor types are not any longer linearly independent.</p>
<p>These methods for evaluation can be used to assess model violations. Additional
introductory materials can be found <a class="reference external" href="https://speakerdeck.com/dengemann/eeg-sensor-covariance-using-cross-validation">here</a>.</p>
<p>For expert use cases or debugging the alternative estimators can also be compared:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">covs</span> <span class="o">=</span> <span class="n">mne</span><span class="o">.</span><span class="n">compute_covariance</span><span class="p">(</span><span class="n">epochs</span><span class="p">,</span> <span class="n">tmax</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="n">return_estimators</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">evoked</span> <span class="o">=</span> <span class="n">epochs</span><span class="o">.</span><span class="n">average</span><span class="p">()</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">evoked</span><span class="o">.</span><span class="n">plot_white</span><span class="p">(</span><span class="n">covs</span><span class="p">)</span> 
</pre></div>
</div>
<p>This will plot the whitened evoked for the optimal estimator and display the GFPs
for all estimators as separate lines in the related panel.</p>
</div>
<div class="section" id="references">
<h3><a class="toc-backref" href="#id11">References</a><a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h3>
<table class="docutils footnote" frame="void" id="id3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>Engemann D. and Gramfort A. (2015) Automated model selection in
covariance estimation and spatial whitening of MEG and EEG signals,
vol. 108, 328-342, NeuroImage.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td>Taulu, S., Simola, J., Kajola, M., 2005. Applications of the signal space
separation method. IEEE Trans. Signal Proc. 53, 3359–3372.</td></tr>
</tbody>
</table>
</div>
</div>
</div>


    </div>
    
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
      
    </p>
    <p>
        &copy; Copyright 2012-2016, MNE Developers.<br/>
    </p>
  </div>
</footer>
  </body>
</html>